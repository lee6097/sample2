<!doctype html> <html lang="ko"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>EMR-style Viewer (safe)</title> <style> :root{--bg:#0f2a3a;--bg2:#163b52;--ink:#e8f2fa;--muted:#9fb6c8;--panel:#102938;--border:#2a4a61;--paper:#fff;--ink2:#222;--shadow:0 2px 8px rgba(0,0,0,.2)} *{box-sizing:border-box} html,body{height:100%} body{margin:0;font-family:system-ui,"Noto Sans KR",Arial,sans-serif;background:#0b2231;color:var(--ink)} button{border:0;background:#22475f;color:#d8ecf8;padding:.45rem .6rem;border-radius:6px;cursor:pointer} button:disabled{opacity:.5;cursor:not-allowed} .app{height:100%;display:grid;grid-template-columns:320px 72px 1fr} .sidebar-left{background:linear-gradient(180deg,var(--bg),var(--bg2));border-right:1px solid var(--border);display:flex;flex-direction:column;min-width:240px} .patient-header{padding:12px;border-bottom:1px solid var(--border)} .brand{font-weight:700;color:#bfe4ff;margin-bottom:8px} .search{display:flex;gap:6px} .search input{flex:1;padding:.5rem .6rem;border-radius:6px;border:1px solid var(--border);background:#0c2636;color:var(--ink)} .patient-card{margin-top:10px;padding:10px;border:1px solid var(--border);border-radius:8px;background:#0e2b3e} .patient-card .grade{display:inline-block;background:#385a6f;padding:2px 6px;border-radius:4px;font-weight:700;font-size:.85rem} .patient-card .name{font-size:1.2rem;font-weight:700;margin-top:6px} .patient-card .meta{color:var(--muted);font-size:.85rem} .patient-card .line{height:1px;background:var(--border);margin:8px 0} .patient-card .stats{display:flex;gap:8px;flex-wrap:wrap;color:#cfe6f5} .timeline{flex:1;overflow:auto;padding:8px} .timeline-title{font-weight:700;color:#c6e6ff;margin:4px 0 6px 4px} .timeline-list{list-style:none;margin:0;padding:0} .timeline-item{display:grid;grid-template-columns:42px 1fr;gap:8px;padding:8px;border-radius:8px;cursor:pointer} .timeline-item:hover{background:#12364c} .timeline-item.active{background:#17435c;border:1px solid #2e5d79} .timeline-item .dot{width:14px;height:14px;border-radius:50%;background:#4cc3ff;margin-top:4px;box-shadow:0 0 0 3px rgba(76,195,255,.15)} .timeline-item .date{color:#cde7fb;font-weight:700;font-size:.95rem} .timeline-item .sub{color:#9fc1d7;font-size:.8rem} .sidebar-mid{background:var(--panel);border-right:1px solid var(--border);display:flex;flex-direction:column} .mid-top{display:flex;align-items:center;justify-content:space-between;padding:6px 8px;border-bottom:1px solid var(--border)} .mid-top .year{color:#c6e6ff;font-weight:700} .mid-nav{display:flex;flex-direction:column;padding:6px;gap:6px} .tab-btn{background:#16384d;color:#cfe7f7;border:1px solid var(--border);padding:.55rem .4rem;border-radius:8px} .tab-btn.active{background:#1e506b} .viewer{display:flex;flex-direction:column;min-width:0;background:#0e2432} .topbar{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid var(--border);background:#0e2b3e} .tabs{display:flex;gap:6px;flex-wrap:wrap} .top-tab{background:#173f57;color:#cfe7f7;border:1px solid var(--border);padding:.45rem .6rem;border-radius:999px} .toolbar{display:flex;align-items:center;justify-content:space-between;padding:6px 10px;border-bottom:1px solid var(--border);background:#0f2a3a} .tool{background:#1d4f6b} .pages-wrap{flex:1;overflow:auto;padding:14px;background:#0e2432} .pages{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;align-items:start} .page{position:relative;width:820px;height:1120px;background:var(--paper);color:var(--ink2);padding:24px 28px;box-shadow:var(--shadow);border-radius:4px;transform-origin:top left} .page h1{font-size:1.1rem;margin:0 0 8px} .page h2{font-size:1rem;margin:12px 0 6px} .page .small{font-size:.9rem;color:#333} .page .muted{color:#666} .page footer{position:absolute;bottom:16px;left:0;right:0;text-align:center;color:#666;font-size:.85rem} .app.collapsed-left{grid-template-columns:0 72px 1fr} .app.collapsed-left .sidebar-left{display:none} @media (max-width:1700px){.page{width:740px;height:1012px}} @media (max-width:1500px){.pages{grid-template-columns:1fr}} </style> </head> <body> <div class="app"> <aside class="sidebar-left"> <div class="patient-header"> <div class="brand">ë³‘ë™ë·°</div> <div class="search"> <input id="searchInput" placeholder="í™˜ìë²ˆí˜¸/ì´ë¦„ ê²€ìƒ‰"> <button id="searchBtn">ğŸ”</button> </div> <div class="patient-card"> <div class="grade">B+</div> <div class="name">í™ê¸¸ë™</div> <div class="meta">F/44ì„¸ 8ê°œì›”</div> <div class="line"></div> <div class="stats"><div><span>HD</span>16</div><div><span>ERN</span>Pod</div><div><span>ì£¼ì¹˜</span>ì†ì •ìš°</div></div> </div> </div> <div class="timeline"> <div class="timeline-title">ë‚´ì› ì´ë ¥</div> <ul id="timelineList" class="timeline-list"></ul> </div> <div class="sidebar-actions"><button id="collapseLeft">â—€ ì ‘ê¸°</button></div> </aside> <aside class="sidebar-mid"> <div class="mid-top"> <button id="expandLeft">â–¶</button> <div class="year">2025</div> </div> <nav class="mid-nav"> <button class="tab-btn active" data-tab="all">ê²½ê³¼ì „ì²´</button> <button class="tab-btn" data-tab="ì™¸ë˜">ì™¸ë˜</button> <button class="tab-btn" data-tab="ì…ì›">ì…ì›ê¸°ë¡</button> <button class="tab-btn" data-tab="ì¬ì§„">ì¬ì§„</button> </nav> </aside> <main class="viewer"> <header class="topbar"> <div class="tabs"> <button class="top-tab">ê²½ê³¼ì „ì²´</button><button class="top-tab">ì˜ì‚¬ì²˜ë°©</button> <button class="top-tab">ì…ì›ê¸°ë¡</button><button class="top-tab">ì˜ìƒ</button> <button class="top-tab">í˜‘ì§„</button><button class="top-tab">ê°„í˜¸ê¸°ë¡</button> </div> <div class="window-btns"><button>âš™</button><button>?</button></div> </header>
<div class="toolbar">
  <div>
    <button class="tool" id="btnFirst">â®</button>
    <button class="tool" id="btnPrev">â—€</button>
    <span id="pageInfo">1 / 1</span>
    <button class="tool" id="btnNext">â–¶</button>
    <button class="tool" id="btnLast">â­</button>
  </div>
  <div>
    <button class="tool" id="btnZoomOut">â–</button>
    <span id="zoomInfo">100%</span>
    <button class="tool" id="btnZoomIn">â•</button>
    <button class="tool" id="btnPrint">ğŸ–¨</button>
  </div>
</div>

<section id="pagesWrap" class="pages-wrap"></section>
</main> </div> <!-- í˜ì´ì§€ í…œí”Œë¦¿: ìŠ¤í¬ë¦½íŠ¸ ë°–ì—ì„œ ì •ì˜(ë¬¸ìì—´ íŒŒì‹± ë¬¸ì œ ì—†ìŒ) --> <template id="page-tpl"> <div class="page"> <h1 class="title"></h1> <div class="small muted page-num"></div> <h2>ê²½ê³¼ ë‚´ìš©</h2> <ul> <li>S) í”¼ë¡œê°, ì‹ìš•ì €í•˜, ìƒë³µë¶€ ë¶ˆì¾Œê°</li> <li>O) V/S ì•ˆì •, Abd soft, mild epigastric tenderness</li> <li>A) Dyspepsia r/o GERD, Mild transaminitis</li> <li>P) PPI ìœ ì§€, ì‹ì´/ìƒí™œìŠµê´€ êµì •, í•„ìš” ì‹œ ì¶”ê°€ê²€ì‚¬</li> </ul> <h2>í‰ê°€/ê³„íš</h2> <ul> <li>ê²½í—˜ì  í•­ìƒì œ ìœ ì§€, ìˆ˜ì•¡/ì „í•´ì§ˆ êµì •</li> <li>í•„ìš” ì‹œ ë‚´ì‹œê²½/ì˜ìƒ ì¶”ê°€</li> </ul> <footer class="footer"></footer> </div> </template> <script> const data = [ { id:'2025-11-11', type:'ì™¸ë˜', title:'2025-11-11 ì™¸ë˜ ê²½ê³¼', total:3 }, { id:'2025-10-17', type:'ì…ì›', title:'2025-10-17 ì…ì› ì´ˆê¸°í‰ê°€', total:6 }, { id:'2024-08-01', type:'ì™¸ë˜', title:'2024-08-01 ì™¸ë˜ ê²½ê³¼', total:2 }, { id:'2024-06-04', type:'ì™¸ë˜', title:'2024-06-04 ìƒë‹´', total:1 }, { id:'2024-03-07', type:'ì¬ì§„', title:'2024-03-07 ì¬ì§„ ì†Œê²¬', total:1 } ]; let filter = 'all'; let filtered = data.slice(); let current = filtered[0]; let pageIndex = 0; // 0,2,4.. ë‘ í˜ì´ì§€ ë‹¨ìœ„ let zoom = 1; const appEl = document.querySelector('.app'); const pagesWrap = document.getElementById('pagesWrap'); const pageInfo = document.getElementById('pageInfo'); const zoomInfo = document.getElementById('zoomInfo'); function renderTimeline(){ const ul = document.getElementById('timelineList'); ul.innerHTML = ''; filtered.forEach(item=>{ const li = document.createElement('li'); li.className = 'timeline-item' + (current && current.id===item.id?' active':''); li.innerHTML = '<div class="dot"></div>' + '<div><div class="date">'+item.id+'</div>' + '<div class="sub">'+item.type+' <span class="badge"></span></div>' + '<div class="sub">'+item.title+'</div></div>'; li.onclick = ()=>{ current = item; pageIndex = 0; renderTimeline(); renderPages(); }; ul.appendChild(li); }); } function clonePage(n){ const frag = document.getElementById('page-tpl').content.cloneNode(true); frag.querySelector('.title').innerText = current.title; frag.querySelector('.page-num').innerText = 'Page ' + n; frag.querySelector('.footer').innerText = 'Page(' + n + ')'; return frag; } function renderPages(){ if(!current){ updateNav(); return; } pagesWrap.innerHTML = ''; const grid = document.createElement('div'); grid.className = 'pages'; const p1 = pageIndex + 1; const p2 = pageIndex + 2; if(p1 <= current.total) grid.appendChild(clonePage(p1)); if(p2 <= current.total) grid.appendChild(clonePage(p2)); pagesWrap.appendChild(grid); pagesWrap.querySelectorAll('.page').forEach(p=>{ p.style.transform = 'scale('+zoom+')'; }); const end = Math.min(p2, current.total); pageInfo.textContent = p1 + ' - ' + end + ' / ' + current.total; zoomInfo.textContent = Math.round(zoom*100) + '%'; updateNav(); } function updateNav(){ const total = current ? current.total : 0; const atStart = !current || pageIndex<=0; const atEnd = !current || (pageIndex+2>=total); document.getElementById('btnPrev').disabled = atStart; document.getElementById('btnFirst').disabled = atStart; document.getElementById('btnNext').disabled = atEnd; document.getElementById('btnLast').disabled = atEnd; } function applyFilter(){ filtered = (filter==='all') ? data.slice() : data.filter(x=>x.type===filter); current = filtered[0]; pageIndex = 0; renderTimeline(); renderPages(); } // ì´ë²¤íŠ¸ document.getElementById('btnPrev').onclick = ()=>{ pageIndex = Math.max(0, pageIndex-2); renderPages(); }; document.getElementById('btnNext').onclick = ()=>{ pageIndex = Math.min(current.total-2, pageIndex+2); renderPages(); }; document.getElementById('btnFirst').onclick = ()=>{ pageIndex = 0; renderPages(); }; document.getElementById('btnLast').onclick = ()=>{ pageIndex = Math.max(0, current.total-2); renderPages(); }; document.getElementById('btnZoomIn').onclick = ()=>{ zoom = Math.min(2, +(zoom+0.1).toFixed(2)); renderPages(); }; document.getElementById('btnZoomOut').onclick = ()=>{ zoom = Math.max(0.5, +(zoom-0.1).toFixed(2)); renderPages(); }; document.getElementById('btnPrint').onclick = ()=>{ if(!current) return; const w = window.open('', '_blank'); w.document.write('<html><head><title>Print</title><style>body{margin:0;font-family:system-ui,Arial}.page{width:794px;min-height:1123px;margin:0 auto 16px;padding:24px;box-sizing:border-box;border:1px solid #ddd;page-break-after:always}</style></head><body>');
for(let i=1;i<=current.total;i++){ w.document.body.appendChild(clonePage(i)); }
w.document.write('</body></html>'); w.document.close(); w.focus(); w.print();
};
document.getElementById('collapseLeft').onclick = ()=>{ appEl.classList.add('collapsed-left'); };
document.getElementById('expandLeft').onclick   = ()=>{ appEl.classList.remove('collapsed-left'); };
document.querySelectorAll('.tab-btn').forEach(b=> b.onclick = ()=>{ document.querySelectorAll('.tab-btn').forEach(x=>x.classList.remove('active')); b.classList.add('active'); filter = b.dataset.tab; applyFilter(); });

applyFilter();
</script>

</body> </html>
