<!doctype html> <html lang="ko"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>EMR-style Viewer Demo</title> <style> :root{ --bg:#0f2a3a;--bg-2:#163b52;--ink:#e8f2fa;--muted:#9fb6c8;--panel:#102938;--border:#2a4a61; --paper:#fff;--ink-2:#222;--shadow:0 2px 8px rgba(0,0,0,.2) } *{box-sizing:border-box} html,body{height:100%} body{margin:0;font-family:system-ui,-apple-system,"Segoe UI","Noto Sans KR",Arial,sans-serif;background:#0b2231;color:var(--ink)} button{border:0;background:#22475f;color:#d8ecf8;padding:.45rem .6rem;border-radius:6px;cursor:pointer} button.ghost{background:transparent;color:var(--muted)} button:disabled{opacity:.5;cursor:not-allowed} .app{height:100%;display:grid;grid-template-columns:320px 72px 1fr} .sidebar-left{background:linear-gradient(180deg,#0f2a3a,#163b52);border-right:1px solid var(--border);display:flex;flex-direction:column;min-width:240px;overflow:hidden} .patient-header{padding:12px 12px 8px;border-bottom:1px solid var(--border)} .brand{font-weight:700;color:#bfe4ff;margin-bottom:8px} .search{display:flex;gap:6px;align-items:center} .search input{width:100%;padding:.5rem .6rem;border-radius:6px;border:1px solid var(--border);background:#0c2636;color:var(--ink)} .patient-card{margin-top:10px;padding:10px;border:1px solid var(--border);border-radius:8px;background:#0e2b3e} .patient-card .grade{display:inline-block;background:#385a6f;padding:2px 6px;border-radius:4px;font-weight:700;font-size:.85rem} .patient-card .name{font-size:1.2rem;font-weight:700;margin-top:6px} .patient-card .meta{color:var(--muted);font-size:.85rem} .patient-card .line{height:1px;background:var(--border);margin:8px 0} .patient-card .stats{display:flex;gap:8px;flex-wrap:wrap;color:#cfe6f5} .patient-card .stats span{display:inline-block;min-width:32px;color:#89b6d1} .timeline{flex:1;overflow:auto;padding:8px} .timeline-title{font-weight:700;color:#c6e6ff;margin:4px 0 6px 4px} .timeline-list{list-style:none;padding:0;margin:0} .timeline-item{display:grid;grid-template-columns:42px 1fr;gap:8px;padding:8px;border-radius:8px;cursor:pointer;align-items:flex-start} .timeline-item:hover{background:#12364c} .timeline-item.active{background:#17435c;border:1px solid #2e5d79} .timeline-item .dot{width:14px;height:14px;border-radius:50%;background:#4cc3ff;margin-top:4px;box-shadow:0 0 0 3px rgba(76,195,255,.15)} .timeline-item .date{color:#cde7fb;font-weight:700;font-size:.95rem} .timeline-item .sub{color:#9fc1d7;font-size:.8rem} .timeline-item .badge{font-size:.7rem;color:#cbe9ff;background:#2b6484;padding:1px 6px;border-radius:999px;margin-left:6px} .sidebar-actions{padding:8px;border-top:1px solid var(--border)} .sidebar-mid{background:var(--panel);border-right:1px solid var(--border);display:flex;flex-direction:column;min-width:56px} .mid-top{display:flex;align-items:center;justify-content:space-between;padding:6px 8px;border-bottom:1px solid var(--border)} .mid-top .year{color:#c6e6ff;font-weight:700} .mid-nav{display:flex;flex-direction:column;padding:6px;gap:6px;overflow:auto} .tab-btn{background:#16384d;color:#cfe7f7;border:1px solid var(--border);padding:.55rem .4rem;border-radius:8px;text-align:center;white-space:nowrap} .tab-btn.active{background:#1e506b;border-color:#2d6a8a} .viewer{display:flex;flex-direction:column;min-width:0;background:#0e2432} .topbar{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid var(--border);background:#0e2b3e} .tabs{display:flex;gap:6px;flex-wrap:wrap} .top-tab{background:#173f57;color:#cfe7f7;border:1px solid var(--border);padding:.45rem .6rem;border-radius:999px} .top-tab.active{background:#216086} .window-btns button{background:transparent} .toolbar{display:flex;align-items:center;justify-content:space-between;padding:6px 10px;border-bottom:1px solid var(--border);background:#0f2a3a} .toolbar .left,.toolbar .right{display:flex;align-items:center;gap:8px} .tool{background:#1d4f6b} .pages-wrap{flex:1;overflow:auto;padding:14px;background:#0e2432} .pages{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;align-items:start} .page{position:relative;width:820px;height:1120px;background:var(--paper);color:var(--ink-2);padding:24px 28px;box-shadow:var(--shadow);border-radius:4px;transform-origin:top left} .page h1{font-size:1.1rem;margin:0 0 8px} .page h2{font-size:1rem;margin:12px 0 6px} .page p,.page li{line-height:1.45} .page footer{position:absolute;bottom:16px;left:0;right:0;text-align:center;color:#666;font-size:.85rem} .page .small{font-size:.9rem;color:#333} .page .muted{color:#666} .page-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px} .kv{display:grid;grid-template-columns:120px 1fr;gap:6px;font-size:.92rem} .kv div:first-child{color:#555} .app.collapsed-left{grid-template-columns:0px 72px 1fr} .app.collapsed-left .sidebar-left{display:none} @media (max-width:1700px){.page{width:740px;height:1012px}} @media (max-width:1500px){.pages{grid-template-columns:1fr}} </style> </head> <body> <div class="app"> <aside class="sidebar-left"> <div class="patient-header"> <div class="brand">ë³‘ë™ë·°</div> <div class="search"> <input id="searchInput" type="text" placeholder="í™˜ìë²ˆí˜¸/ì´ë¦„ ê²€ìƒ‰" /> <button id="searchBtn" title="ê²€ìƒ‰">ğŸ”</button> </div> <div class="patient-card"> <div class="grade">B+</div> <div class="name">í™ê¸¸ë™</div> <div class="meta">F/44ì„¸ 8ê°œì›”</div> <div class="line"></div> <div class="stats"> <div><span>HD</span>16</div> <div><span>ERN</span>Pod</div> <div><span>ì£¼ì¹˜</span>ì†ì •ìš°</div> </div> </div> </div> <div class="timeline"> <div class="timeline-title">ë‚´ì› ì´ë ¥</div> <ul id="timelineList" class="timeline-list"></ul> </div> <div class="sidebar-actions"> <button id="collapseLeft" class="ghost">â—€ ì ‘ê¸°</button> </div> </aside> <aside class="sidebar-mid"> <div class="mid-top"> <button id="expandLeft" class="ghost" title="ì¢Œì¸¡ í¼ì¹˜ê¸°">â–¶</button> <div class="year">2025</div> </div> <nav class="mid-nav"> <button class="tab-btn active" data-tab="all">ê²½ê³¼ì „ì²´</button> <button class="tab-btn" data-tab="ì™¸ë˜">ì™¸ë˜</button> <button class="tab-btn" data-tab="ì…ì›">ì…ì›ê¸°ë¡</button> <button class="tab-btn" data-tab="ì¬ì§„">ì¬ì§„</button> </nav> </aside> <main class="viewer"> <header class="topbar"> <div class="tabs"> <button class="top-tab active">ê²½ê³¼ì „ì²´</button> <button class="top-tab">ì˜ì‚¬ì²˜ë°©</button> <button class="top-tab">ì…ì›ê¸°ë¡</button> <button class="top-tab">ì˜ìƒ</button> <button class="top-tab">í˜‘ì§„</button> <button class="top-tab">ê°„í˜¸ê¸°ë¡</button> </div> <div class="window-btns"> <button title="ì„¤ì •">âš™</button> <button title="ë„ì›€ë§">?</button> </div> </header>
<div class="toolbar">
  <div class="left">
    <button class="tool" id="btnFirst" title="ì²˜ìŒ">â®</button>
    <button class="tool" id="btnPrev"  title="ì´ì „">â—€</button>
    <span id="pageInfo">1 / 1</span>
    <button class="tool" id="btnNext"  title="ë‹¤ìŒ">â–¶</button>
    <button class="tool" id="btnLast"  title="ë">â­</button>
  </div>
  <div class="right">
    <button class="tool" id="btnZoomOut" title="ì¶•ì†Œ">â–</button>
    <span id="zoomInfo">100%</span>
    <button class="tool" id="btnZoomIn"  title="í™•ëŒ€">â•</button>
    <button class="tool" id="btnPrint"   title="ì¸ì‡„">ğŸ–¨</button>
  </div>
</div>

<section id="pagesWrap" class="pages-wrap"></section>
</main> </div> <script> // ---------- ë°ì´í„°/ë¬¸ì„œ ìƒì„± ---------- const timelineData = [ { id:'2025-11-11', type:'ì™¸ë˜', title:'ì™¸ë˜', subtitle:'ë‚´ê³¼ ì™¸ë˜', badge:'NP', pages: makeDoc('2025-11-11 ì™¸ë˜ ê²½ê³¼',3) }, { id:'2025-10-17', type:'ì…ì›', title:'ì…ì›', subtitle:'ì‘ê¸‰ì‹¤ â†’ ë³‘ë™', badge:'ER', pages: makeDoc('2025-10-17 ì…ì› ì´ˆê¸°í‰ê°€',6) }, { id:'2024-08-01', type:'ì™¸ë˜', title:'ì™¸ë˜', subtitle:'ì§„ë£Œ', badge:'NR', pages: makeDoc('2024-08-01 ì™¸ë˜ ê²½ê³¼',2) }, { id:'2024-06-04', type:'ì™¸ë˜', title:'ì™¸ë˜', subtitle:'ê²€ì‚¬ê²°ê³¼ ìƒë‹´', badge:'GE', pages: makeDoc('2024-06-04 ìƒë‹´',1) }, { id:'2024-03-07', type:'ì¬ì§„', title:'ì¬ì§„', subtitle:'ë‚´ê³¼', badge:'PR', pages: makeDoc('2024-03-07 ì¬ì§„ ì†Œê²¬',1) } ]; function makeDoc(title, pages){ const arr = []; const progress = ` <h2>ê²½ê³¼ ë‚´ìš©</h2> <div class="small muted">S) í”¼ë¡œê°, ì‹ìš•ì €í•˜, ìƒë³µë¶€ ë¶ˆì¾Œê°</div> <div class="small muted">O) V/S ì•ˆì •, Abd soft, mild epigastric tenderness</div> <div class="small muted">A) Dyspepsia r/o GERD, Mild transaminitis</div> <div class="small muted">P) PPI ìœ ì§€, ì‹ì´/ìƒí™œìŠµê´€ êµì •, í•„ìš” ì‹œ ì¶”ê°€ê²€ì‚¬</div> <hr/> `; for(let i=1;i<=pages;i++){ arr.push(` <div class="page"> <h1>${title}</h1> <div class="small muted">Page ${i}</div> ${progress} <div class="page-grid"> <section> <h2>ì£¼ìš”ì†Œê²¬</h2> <ul> <li>ë°œì—´, ì‹ìš•ì €í•˜, ë³µë¶€ ë¶ˆí¸ê°</li> <li>ë³µìš©ì•½: í•­ìƒì œ, ìœ„ë³´í˜¸ì œ</li> <li>ì•Œë ˆë¥´ê¸°: íŠ¹ì´ì‚¬í•­ ì—†ìŒ</li> </ul> <h2>ê²€ì‚¬</h2> <ul> <li>í˜ˆì•¡: WBC 8.2, Hb 12.9, PLT 210</li> <li>ê°„ê¸°ëŠ¥: AST/ALT ê²½ë¯¸ ìƒìŠ¹</li> <li>ì˜ìƒ: Abd CT pending</li> </ul> </section> <section> <h2>í‰ê°€/ê³„íš</h2> <ul> <li>ê°ì—¼ ì˜ì‹¬ â†’ ê²½í—˜ì  í•­ìƒì œ ìœ ì§€</li> <li>ìˆ˜ì•¡ ë° ì „í•´ì§ˆ êµì •, ê¸ˆì£¼ êµìœ¡</li> <li>í•„ìš”ì‹œ ë‚´ì‹œê²½/ì˜ìƒ ì¶”ê°€</li> </ul> <h2>íˆ¬ì•½</h2> <div class="kv"> <div>ABX</div><div>Ceftriaxone 2g q24h (D${i})</div> <div>PPI</div><div>Pantoprazole 40mg qd</div> <div>ì§„í†µ</div><div>Acetaminophen 500mg prn</div> </div> </section> </div> <footer>Page(${i})</footer> </div> `); } return arr; } // ---------- ìƒíƒœ ---------- let filter = 'all'; let filtered = timelineData.slice(); let currentDoc = filtered[0]; let pageIndex = 0; // 0,2,4... let zoom = 1; // ---------- ìš”ì†Œ ---------- const appEl = document.querySelector('.app'); const pagesWrap = document.getElementById('pagesWrap'); const pageInfo = document.getElementById('pageInfo'); const zoomInfo = document.getElementById('zoomInfo'); // ---------- ë Œë”ë§ ---------- function applyFilter(){ filtered = (filter==='all') ? timelineData.slice() : timelineData.filter(x=>x.type===filter); if(filtered.length===0){ pagesWrap.innerHTML = '<div style="padding:24px;color:#cde7fb">í•´ë‹¹ ë¶„ë¥˜ì˜ ë¬¸ì„œê°€ ì—†ìŠµë‹ˆë‹¤.</div>'; currentDoc = null; updateNavButtons(); return; } currentDoc = filtered[0]; pageIndex = 0; renderTimeline(); renderPages(); } function renderTimeline(){ const ul = document.getElementById('timelineList'); ul.innerHTML = ''; for(const item of filtered){ const li = document.createElement('li'); li.className = 'timeline-item' + (currentDoc && currentDoc.id===item.id?' active':''); li.innerHTML = ` <div class="dot"></div> <div> <div class="date">${item.id}</div> <div class="sub">${item.title} <span class="badge">${item.badge}</span></div> <div class="sub">${item.subtitle}</div> </div> `; li.addEventListener('click', ()=>{ currentDoc = item; pageIndex = 0; renderTimeline(); renderPages(); }); ul.appendChild(li); } } function renderPages(){ if(!currentDoc){ updateNavButtons(); return; } const p1 = currentDoc.pages[pageIndex]; const p2 = currentDoc.pages[pageIndex+1]; const grid = document.createElement('div'); grid.className = 'pages'; if(p1) grid.innerHTML += p1; if(p2) grid.innerHTML += p2; pagesWrap.innerHTML = ''; pagesWrap.appendChild(grid); pagesWrap.querySelectorAll('.page').forEach(p=>{ p.style.transform = `scale(${zoom})`; }); const total = currentDoc.pages.length; const start = pageIndex+1; const end = Math.min(pageIndex+2, total); pageInfo.textContent = `${start} - ${end} / ${total}`; zoomInfo.textContent = `${Math.round(zoom*100)}%`; updateNavButtons(); } function updateNavButtons(){ const hasDoc = !!currentDoc; const total = hasDoc ? currentDoc.pages.length : 0; const atStart = !hasDoc || pageIndex<=0; const atEnd = !hasDoc || (pageIndex+2>=total); ['btnPrev','btnFirst'].forEach(id=>{ const b=document.getElementById(id); b.disabled = atStart; }); ['btnNext','btnLast'].forEach(id=>{ const b=document.getElementById(id); b.disabled = atEnd; }); } // ---------- ì´ë²¤íŠ¸ ---------- document.getElementById('btnPrev').addEventListener('click', ()=>{ pageIndex = Math.max(0, pageIndex-2); renderPages(); }); document.getElementById('btnNext').addEventListener('click', ()=>{ pageIndex = Math.min(currentDoc.pages.length-2, pageIndex+2); renderPages(); }); document.getElementById('btnFirst').addEventListener('click', ()=>{ pageIndex = 0; renderPages(); }); document.getElementById('btnLast').addEventListener('click', ()=>{ pageIndex = Math.max(0, currentDoc.pages.length-2); renderPages(); }); pageInfo.style.cursor = 'pointer'; pageInfo.title = 'í´ë¦­í•˜ì—¬ í˜ì´ì§€ ì´ë™'; pageInfo.addEventListener('click', ()=>{ if(!currentDoc) return; const total = currentDoc.pages.length; const input = prompt(`ì´ë™í•  í˜ì´ì§€ (1 ~ ${total})`); const num = Number(input); if(Number.isInteger(num) && num>=1 && num<=total){ pageIndex = (num-1) - ((num-1)%2); renderPages(); } }); document.getElementById('btnZoomIn').addEventListener('click', ()=>{ zoom = Math.min(2.0, +(zoom+0.1).toFixed(2)); renderPages(); }); document.getElementById('btnZoomOut').addEventListener('click', ()=>{ zoom = Math.max(0.5, +(zoom-0.1).toFixed(2)); renderPages(); }); document.getElementById('btnPrint').addEventListener('click', ()=>{ if(!currentDoc) return; const w = window.open('', '_blank'); const docHtml = ` <html><head><title>Print</title> <style> body{margin:0;font-family:system-ui,Arial} .page{width:794px;min-height:1123px;margin:0 auto 16px;padding:24px;box-sizing:border-box;border:1px solid #ddd;page-break-after:always} </style>
</head><body>${currentDoc.pages.join('')}</body></html>`;
w.document.write(docHtml); w.document.close(); w.focus(); w.print();
});

document.getElementById('collapseLeft').addEventListener('click', ()=>{ document.querySelector('.app').classList.add('collapsed-left'); });
document.getElementById('expandLeft').addEventListener('click', ()=>{ document.querySelector('.app').classList.remove('collapsed-left'); });

document.querySelectorAll('.tab-btn').forEach(btn=>{
btn.addEventListener('click', ()=>{
document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
btn.classList.add('active');
filter = btn.dataset.tab; // all/ì™¸ë˜/ì…ì›/ì¬ì§„
applyFilter();
});
});

document.getElementById('searchBtn').addEventListener('click', ()=>{ alert('ë°ëª¨: ê²€ìƒ‰ ê¸°ëŠ¥ì€ ìƒ˜í”Œì…ë‹ˆë‹¤.'); });

// ì´ˆê¸° ë Œë”
applyFilter();
</script>

</body> </html>
